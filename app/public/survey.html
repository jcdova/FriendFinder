<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Friend Finder-Survey</title>

    <!-- Added link to the jQuery Library -->
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>

    <!-- Added a link to Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!-- Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>
<body>
<div class="container">

	<h2>Survey Questions</h2>
	<hr>
	
	<h3><strong>About You</strong></h3>

	<h4>Name (Required)</h4>
	<input type="text" name="" id="name" class="form-control" required >

	<h4>Link to Photo Image (Required)</h4>
	<input type="text" name="" id="photo" class="form-control" required >
	<hr>

	<form name="questions">
	<div id="questionsContainer">
			
		<div class="panel panel-primary">
			<div id="question1" class="panel-heading" style="background: #696969">
				<h4>Question 1</h4>
			</div>
			<div class="panel-body">
				<h4>1. Traveling is exciting.</h4>
				<select data-placeholder="" class="chosen-select" id="q1">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>	
			</div>
		</div>	
	
		<div class="panel panel-primary">
			<div id="question2" class="panel-heading" style="background: #696969">
				<h4>Question 2</h4>
			</div>
			<div class="panel-body">
				<h4>2. Cloudy days are the best.</h4>
				<select data-placeholder="" class="chosen-select" id="q2">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>		
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question3" class="panel-heading" style="background: #696969">
				<h4>Question 3</h4>
			</div>
			<div class="panel-body">
				<h4>3. Watching live concerts is better than listening to the radio.</h4>
				<select data-placeholder="" class="chosen-select" id="q3">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>		
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question4" class="panel-heading" style="background: #696969">
				<h4>Question 4</h4>
			</div>
			<div class="panel-body">
				<h4>4. I have many goals I want to accomplish.</h4>
				<select data-placeholder="" class="chosen-select" id="q4">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>		
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question5" class="panel-heading" style="background: #696969">
				<h4>Question 5</h4>
			</div>
			<div class="panel-body">
				<h4>5. Do enjoy watching football?</h4>
				<select data-placeholder="" class="chosen-select" id="q5">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>		
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question6" class="panel-heading" style="background: #696969">
				<h4>Question 6</h4>
			</div>
			<div class="panel-body">
				<h4>6. I love to watch scary movies.</h4>
				<select data-placeholder="" class="chosen-select" id="q6">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>	
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question7" class="panel-heading" style="background: #696969">
				<h4>Question 7</h4>
			</div>
			<div class="panel-body">
				<h4>7. Computer Programming or Coding is hard but fun.</h4>
				<select data-placeholder="" class="chosen-select" id="q7">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>	
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question8" class="panel-heading" style="background: #696969">
				<h4>Question 8</h4>
			</div>
			<div class="panel-body">
				<h4>8. I excercise often.</h4>
				<select data-placeholder="" class="chosen-select" id="q8">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>	
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question9" class="panel-heading" style="background: #696969">
				<h4>Question 9</h4>
			</div>
			<div class="panel-body">
				<h4>9. I take selfies everyday.</h4>
				<select data-placeholder="" class="chosen-select" id="q9">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>
			</div>
		</div>

		<div class="panel panel-primary">
			<div id="question10" class="panel-heading" style="background: #696969">
				<h4>Question 10</h4>
			</div>
			<div class="panel-body">
				<h4>10. 90's Hip Hop is better than todays Hip Hop.</h4>
				<select data-placeholder="" class="chosen-select" id="q10">
	                <option value=""></option>
	                <option value="1">1 (Strongly Disagree)</option>
	                <option value="2">2</option>
	                <option value="3">3</option>
	                <option value="4">4</option>
	                <option value="5">5 (Strongly Agree)</option>
            	</select>	
			</div>
		</div>

  	</div>
  	</form>

  	<div style="display: flex; justify-content: center">
		<a href="#"><button style="width: 250px; height: 80px; margin-bottom: 20px; background-color: #212074; font-size: 40px;" type="button" class="btn btn-primary btn-lg" id="submitButton">Submit</button>
		</a>
	</div>

	<div class="modal fade" id="resultsModal">
  		<div class="modal-dialog" role="document">
    		<div class="modal-content">
      			<div class="modal-header">
        			<h3 class="modal-title text-center"><strong>This is your Best Match</strong></h3>
        				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
          				<span aria-hidden="true">&times;</span>
        			</button>
      			</div>
		      		<div class="modal-body">
		        		<p><img src="" id="imageView" height="480" width="420"></p>
		        		<strong><h3 id="caption" class="text-center"></h3></strong>
		      		</div>
		      	<div class="modal-footer">
		        	<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		      	</div>
    		</div>
  		</div>
	</div>
	<hr>
</div>

<footer class="footer">
	    <div class="container">
		    <h4><a href="/api/friends">API Friends List</a> | <a href="https://github.com/afhaque/friendfinder">GitHub Repo</a></h4>
	    </div>
</footer>



<script type="text/javascript">

$("#submitButton").on("click", function() {

	function checkForm() {
		var valid = true;
		$(".form-control").each(function() {
			if ($(this).val() === '') {
				valid = false;
			}
		});

		$(".chosen-select").each(function() {
			if ($(this).val() === '') {
				valid = false;
			}
		})
		return valid;
	};

if (checkForm() === true) {
    var answers = {
        name: $('#name').val().trim(),
        photo: $('#photo').val().trim(),
        scores: [$('#q1').val(),$('#q2').val(),$('#q3').val(),$('#q4').val(),$('#q5').val(),$('#q6').val(),$('#q7').val(),$('#q8').val(),$('#q9').val(),$('#q10').val()]  
    };
    console.log(answers);

    var currentURL = window.location.origin;

    $.post(currentURL + "/api/friends", answers, function(data) {
	        console.log(data);
	        $('#caption').text(data.name);
	        $('#imageView').attr('src', data.photo);
	        $('#resultsModal').modal('show');
	    });  
}
else {
      alert("Please fill out all fields before submitting");
    }
       
  return false;    
});


</script>

</body>
</html>
